<!DOCTYPE html>
<html>
<body>
  <div id="dropContainer" style="border:1px solid black;height:100px;">
     Drop Here
  </div>
  <p>Should update here:</p>
  <input type="file" id="fileInput" />

  <script>
    const dropContainer = document.getElementById("dropContainer");
    const fileInput = document.getElementById("fileInput");

    dropContainer.ondragover = dropContainer.ondragenter = function(evt) {
      evt.preventDefault();
    };

    dropContainer.ondrop = function(evt) {
      evt.preventDefault();
      
      // Assign dropped file to file input
      fileInput.files = evt.dataTransfer.files;

      if (fileInput.files.length > 0) {
        uploadFile(fileInput.files[0]); // Upload first file
      }
    };

    function uploadFile(file) {
      const formData = new FormData();
      formData.append("video", file);

      fetch("http://localhost:3000/upload-video", {
        method: "POST",
        body: formData
      })
      .then(response => response.json())
      .then(data => {
        console.log("Upload successful:", data);
      })
      .catch(error => console.error("Upload failed:", error));
    }
  </script>
</body>
</html>
